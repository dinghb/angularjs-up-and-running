# 指令的单元测试

## 目录 

* [指令测试的步骤](#指令测试的步骤)
* [其他考虑](#其他考虑)

## 指令测试的步骤 
书中指出了指令测试的几个关键步骤：
1. 在单元测试中注入$compile服务
2. 创建HTML元素来出发要测试的命令
3. 创建想要测试的指令的作用域
4. 请记住单元测试中没有服务器，如果测试的指令中用到了templateUrl，在$httpBackend中加入期待返回的内容，该内容将用于替换测试中的模版。
5. 通过$compile服务和之前创建的作用域来编译HTML元素


构建自定义指令的单元测试：
1. 将$compile服务注入到测试中。
2. 构建指令实例对应的HTML。
3. 创建出作用域并设置必要的变量。
4. 定义需要加载的模版。
5. 通过$compile服务创建出一个指令的实例。
6. 为渲染和行为设定预期值。

## 其他考虑
* 如何测试真正的HTML渲染
* 如何处理AngualrJs服务的依赖
* Angualrjs数据绑定不再生效。 需要手动通过scope.$digest()


